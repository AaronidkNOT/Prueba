<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <meta name="description" content="¿Tenés dudas o estás listo para empezar? Contactanos para consultas sobre nuestros planes de páginas web a bajo costo, subdominios y hosting. Estamos para ayudarte.">
    <meta http-equiv="Content-Security-Policy"
    content="default-src 'self';
    script-src 'self' https://cdn.jsdelivr.net 'unsafe-inline';
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src 'self' https://fonts.gstatic.com https://fonts.googleapis.com;
    img-src 'self' data: https://upload.wikimedia.org https://images.icon-icons.com;
    connect-src 'self' https://formsubmit.co;">
    <title>Contacto - Cloud¡</title>
    <link href="dist/styles.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="canonical" href="https://aaronidknot.github.io/CloudI/checkout.html" />
    <link rel="stylesheet" href="style.css" media="print" onload="this.media='all'">
</head>
<body class="flex flex-col min-h-screen">
<div id="particles-js" class="absolute top-0 left-0 w-full h-full -z-10"></div>
    <header id="encabezado" class="barra-navegacion-fija transition-all duration-300">
        <nav class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <a href="index.html" class="text-2xl font-bold text-sky-400 logo-con-tema">Cloud¡</a>
                <div class="flex items-center space-x-4">
                    <a href="index.html#precios" class="bg-sky-500 hover:bg-sky-600 text-white font-semibold px-4 py-2 rounded-lg transition-colors text-sm">Ver Planes</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="flex-grow py-2 md:py-6">
    <div class="container mx-auto px-6">
        <div class="bg-slate-800 p-8 md:p-12 rounded-xl shadow-xl fondo-papel-con-tema">

            <h1 id="titulo-checkout" class="text-3xl md:text-4xl font-bold text-white mb-8 text-center texto-primario-con-tema">Contacta con Nosotros por Gmail</h1>

            <form id="formulario-checkout" action="https://formsubmit.co/cloudi.dmarg@gmail.com" method="POST" class="space-y-6">

    <input type="hidden" name="_captcha" value="false">
    <input type="text" name="_honey" style="display:none"> <!-- Anti-spam -->

    <div>
        <label for="nombreCompleto" class="block mb-2 text-sm font-medium text-slate-300 texto-secundario-con-tema">Tu Nombre</label>
        <input type="text" id="nombreCompleto" name="nombre" class="bg-slate-700 border border-slate-600 text-slate-200 text-sm rounded-lg focus:ring-sky-500 focus:border-sky-500 block w-full p-2.5 entrada-con-tema" placeholder="Juan Pérez" required>
    </div>
    <div>
        <label for="correoElectronico" class="block mb-2 text-sm font-medium text-slate-300 texto-secundario-con-tema">Correo Electrónico</label>
        <input type="email" id="correoElectronico" name="email" class="bg-slate-700 border border-slate-600 text-slate-200 text-sm rounded-lg focus:ring-sky-500 focus:border-sky-500 block w-full p-2.5 entrada-con-tema" placeholder="juan.perez@ejemplo.com" required>
    </div>
    <div id="seccion-contacto">
        <label for="mensaje" class="block mb-2 text-sm font-medium text-slate-300 texto-secundario-con-tema">Tu Mensaje</label>
        <textarea id="mensaje" name="mensaje" rows="4" maxlength="1000" class="block p-2.5 w-full text-sm text-slate-200 bg-slate-700 rounded-lg border border-slate-600 focus:ring-sky-500 focus:border-sky-500 entrada-con-tema" placeholder="Escribe tu consulta aquí..." required></textarea>
        <div id="contador-caracteres-mensaje" class="text-xs text-slate-400 mt-1">0/1000 caracteres</div>
    </div>
    <div id="mensaje-confirmacion-inline" class="hidden mt-4 p-4 text-sm text-green-700 bg-green-100 rounded-lg dark:bg-slate-700 dark:text-green-400 border border-green-500" role="alert">
        <!-- El mensaje se insertará aquí -->
    </div>
    <button type="submit" id="boton-enviar-formulario" class="w-full text-white bg-sky-500 hover:bg-sky-600 focus:ring-4 focus:outline-none focus:ring-sky-300 font-medium rounded-lg text-sm px-5 py-3 text-center transition-colors">
        Enviar Consulta
    </button>
</form>

        </div>
    </div>
    <div class="container mx-auto px-6 mt-8">
        <div class="bg-slate-800 p-8 md:p-12 rounded-xl shadow-xl fondo-papel-con-tema">

            <h1 class="text-3xl md:text-4xl font-bold text-white mb-8 text-center texto-primario-con-tema">Contacta con Nosotros por WhatsApp</h1>

            <div class="text-center">
                <a href="https://wa.me/5492923541222?text=Hola%2C%20quisiera%20m%C3%A1s%20informaci%C3%B3n." target="_blank" rel="noopener noreferrer" class="inline-block">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/100px-WhatsApp.svg.png" alt="Contactar por WhatsApp" style="width:60px; height:auto; vertical-align: middle;">
                </a>
                </div>
        </div>
    </div>
</main>

    <footer class="fondo-pie-pagina-con-tema py-6">
        <div class="container mx-auto px-6">
            <div class="contenido-pie-pagina texto-pie-pagina-con-tema">
                <p class="mb-4 md:mb-0">© <span id="anioActual"></span> Cloud!. Todos los derechos reservados.</p>
                <div class="enlaces-pie-pagina">
                    <a href="aviso-legal.html" class="enlace-texto-pie-pagina-con-tema">Aviso Legal</a>
                    <a href="terminos-condiciones.html" class="enlace-texto-pie-pagina-con-tema">Términos y Condiciones</a>
                    <a href="politica-privacidad.html" class="enlace-texto-pie-pagina-con-tema">Política de Privacidad</a>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js" defer></script>
    <script src="particle.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
        const elDetallesPlan = document.getElementById('detalles-plan');
        const elTituloCheckout = document.getElementById('titulo-checkout');
        const elSeccionContacto = document.getElementById('seccion-contacto');
        const elBotonEnviarFormulario = document.getElementById('boton-enviar-formulario');
        const elFormulario = document.getElementById('formulario-checkout');
        const campoMensaje = document.getElementById('mensaje');
        const contadorCaracteresMensajeEl = document.getElementById('contador-caracteres-mensaje');
        const MAX_CARACTERES_MENSAJE = 1000;

        // *** Obtener referencia al div del mensaje inline ***
        const elMensajeConfirmacionInline = document.getElementById('mensaje-confirmacion-inline');

        function actualizarVisibilidadContador() {
            if (contadorCaracteresMensajeEl && elSeccionContacto) {
                if (!elSeccionContacto.classList.contains('hidden') && campoMensaje && campoMensaje.required) {
                    contadorCaracteresMensajeEl.classList.remove('hidden');
                } else {
                    contadorCaracteresMensajeEl.classList.add('hidden');
                }
            }
        }

        function resetearContadorMensaje() {
            if (contadorCaracteresMensajeEl) {
                contadorCaracteresMensajeEl.textContent = `0/${MAX_CARACTERES_MENSAJE} caracteres`;
                contadorCaracteresMensajeEl.classList.remove('text-red-500', 'text-yellow-500');
            }
            actualizarVisibilidadContador();
        }

        if (campoMensaje && contadorCaracteresMensajeEl) {
            campoMensaje.addEventListener('input', () => {
                const longitudActual = campoMensaje.value.length;
                contadorCaracteresMensajeEl.textContent = `${longitudActual}/${MAX_CARACTERES_MENSAJE} caracteres`;

                contadorCaracteresMensajeEl.classList.remove('text-red-500', 'text-yellow-500');
                if (longitudActual > MAX_CARACTERES_MENSAJE) {
                    contadorCaracteresMensajeEl.classList.add('text-red-500');
                } else if (longitudActual > MAX_CARACTERES_MENSAJE * 0.9) {
                    contadorCaracteresMensajeEl.classList.add('text-yellow-500');
                }
            });
        }

        // --- Configuración fija para la página de contacto ---
        if(elTituloCheckout) elTituloCheckout.textContent = 'Contacta con Nosotros';
        if(elDetallesPlan) elDetallesPlan.classList.add('hidden');
        if(elSeccionContacto) elSeccionContacto.classList.remove('hidden');
        if(elBotonEnviarFormulario) elBotonEnviarFormulario.textContent = 'Enviar Consulta';

        if (campoMensaje) {
            campoMensaje.required = true;
        }
        resetearContadorMensaje();


        // Lógica de validación y envío del formulario
        // --- Reemplaza tu bloque de código 'elFormulario.addEventListener' por este ---

if (elFormulario && !elFormulario.classList.contains('hidden')) {
    elFormulario.addEventListener('submit', (e) => {
        // 1. Prevenimos el comportamiento por defecto del formulario (que es recargar la página)
        e.preventDefault();

        // 2. Creamos un objeto FormData para capturar todos los datos del formulario
        const formData = new FormData(elFormulario);
        const elBotonEnviarFormulario = document.getElementById('boton-enviar-formulario');
        const elMensajeConfirmacionInline = document.getElementById('mensaje-confirmacion-inline');

        // 3. Mostramos un estado de "cargando" para que el usuario sepa que algo está pasando
        elBotonEnviarFormulario.disabled = true;
        elBotonEnviarFormulario.textContent = 'Enviando...';
        elMensajeConfirmacionInline.classList.add('hidden'); // Ocultar mensajes anteriores

        // 4. Usamos fetch para enviar los datos a FormSubmit de forma asíncrona
        fetch(elFormulario.action, {
            method: 'POST',
            body: formData,
            headers: {
                'Accept': 'application/json' // Importante para que FormSubmit devuelva una respuesta JSON
            },
        })
        .then(response => {
            // 5. Analizamos la respuesta del servidor
            if (response.ok) {
                // Si el envío fue exitoso (status 200-299)
                elMensajeConfirmacionInline.innerHTML = '<span class="font-medium">¡Gracias por tu consulta!</span> Nos pondremos en contacto contigo pronto.';
                elMensajeConfirmacionInline.className = 'mt-4 p-4 text-sm text-green-700 bg-green-100 rounded-lg dark:bg-slate-700 dark:text-green-400 border border-green-500'; // Clases de éxito
                elFormulario.reset(); // Limpiamos el formulario
                resetearContadorMensaje(); // Reseteamos el contador de caracteres
            } else {
                // Si hubo un error en el servidor (ej: FormSubmit está caído)
                // Usamos response.json() para intentar obtener el mensaje de error de FormSubmit
                return response.json().then(data => {
                    throw new Error(data.message || 'Error en el servidor.');
                })
            }
        })
        .catch(error => {
            elMensajeConfirmacionInline.innerHTML = `<span class="font-medium">Error:</span> ${error.message || 'No se pudo enviar el formulario. Revisa tu conexión a internet.'}`;
            elMensajeConfirmacionInline.className = 'mt-4 p-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-slate-700 dark:text-red-400 border border-red-500'; // Clases de error
            console.error('Error al enviar el formulario:', error);
        })
        .finally(() => {
            elBotonEnviarFormulario.disabled = false;
            elBotonEnviarFormulario.textContent = 'Enviar Consulta';
        });
    });
}
        actualizarVisibilidadContador();

        const anioActualEl = document.getElementById('anioActual');
        if (anioActualEl) {
            anioActualEl.textContent = new Date().getFullYear();
        }
    });
    </script>
</body>
</html>